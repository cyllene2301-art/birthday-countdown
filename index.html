<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Birthday Countdown</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --paper:#faf6f2;
      --ink:#2b2a27;
      --muted:#7a6f6b;
      --accent:#a67c52;
      --glass:rgba(255,255,255,0.9);
      --card-border:rgba(0,0,0,0.06);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      background:linear-gradient(180deg,#fbf7f5,#f2ece9);
      color:var(--ink);
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
      line-height:1.5;
    }
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:28px}
    .title{font-family:"Playfair Display",serif;font-size:24px;color:var(--accent)}
    .pill{padding:6px 12px;border-radius:999px;border:1px solid var(--card-border);font-size:12px;color:var(--muted)}

    /* Hero */
    .hero{display:flex;gap:28px;align-items:center;padding:40px;border-radius:18px;background:var(--glass);box-shadow:0 8px 30px rgba(0,0,0,.04);border:1px solid var(--card-border);margin-bottom:32px}
    .hero-inner{display:flex;align-items:center;gap:28px;width:100%}
    .hero-copy{flex:1}
    .hero-copy h1{font-family:"Playfair Display",serif;font-size:36px;margin-bottom:10px;color:var(--accent)}
    .hero-copy p{color:var(--muted);font-size:16px;max-width:600px}
    .hero-art img{width:360px;height:240px;object-fit:cover;border-radius:12px;box-shadow:0 10px 30px rgba(166,124,82,.08)}
    @media (max-width:900px){.hero-inner{flex-direction:column}.hero-art img{width:100%;height:auto}}

    /* Countdown */
    .card{background:#fff;border:1px solid var(--card-border);border-radius:16px;padding:18px;box-shadow:0 6px 20px rgba(0,0,0,.03)}
    .units{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .unit{text-align:center}
    .num{font-weight:600;font-size:22px;color:var(--accent)}
    .lab{font-size:11px;color:var(--muted);letter-spacing:.6px;text-transform:uppercase}
    .progressBar{height:8px;border-radius:999px;background:#f1ece8;overflow:hidden;margin-top:10px}
    .progress{height:100%;width:0;background:var(--accent)}
    .eta{margin-top:6px;font-size:12px;color:var(--muted)}

    /* Gallery */
    .stack{display:grid;gap:22px}
    .gcard{background:#fff;border-radius:12px;border:1px solid var(--card-border);overflow:hidden;opacity:0;transform:translateY(12px)}
    .gcard.reveal{opacity:1;transform:translateY(0);transition:all .6s cubic-bezier(.2,.9,.2,1)}
    .gcard img{width:100%;height:180px;object-fit:cover;display:block}
    .meta{padding:14px}
    .meta h4{font-family:"Playfair Display",serif;font-size:16px;color:var(--accent);margin-bottom:6px}
    .meta p{color:var(--muted);font-size:13px}
    .locked img{filter:grayscale(.25) blur(6px)}
    .lockBadge{position:absolute;top:10px;left:10px;background:rgba(0,0,0,.35);color:#fff;padding:4px 8px;border-radius:999px;font-size:11px}

    footer{margin:40px 0 12px;text-align:center;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="title">Birthday Countdown</div>
      <div class="pill" id="rangePill">Loading…</div>
    </header>

    <section class="hero">
      <div class="hero-inner">
        <div class="hero-copy">
          <h1>For My Love — A Collection of Days</h1>
          <p>Each sunrise unveils a memory, until the day we celebrate you.</p>
          <div class="card" id="countCard">
            <div class="units">
              <div class="unit"><div class="num" id="dNum">0</div><div class="lab">Days</div></div>
              <div class="unit"><div class="num" id="hNum">0</div><div class="lab">Hrs</div></div>
              <div class="unit"><div class="num" id="mNum">0</div><div class="lab">Mins</div></div>
              <div class="unit"><div class="num" id="sNum">0</div><div class="lab">Secs</div></div>
            </div>
            <div class="progressBar"><div class="progress" id="progress"></div></div>
            <div class="eta" id="eta"></div>
          </div>
        </div>
        <div class="hero-art">
          <img id="heroImg" src="images/hero.jpg" alt="Hero image">
        </div>
      </div>
    </section>

    <section class="stack">
      <h3 style="font-family:'Playfair Display',serif;color:var(--accent);margin-bottom:10px">Memory Gallery</h3>
      <div class="grid" id="grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:18px"></div>
    </section>

    <footer>Made with love</footer>
  </div>

  <script>
    const CONFIG = {
      timezone: "Asia/Kolkata",
      start: "2025-09-04",
      end:   "2025-09-25",
      messages: Array.from({length:22}, (_,i)=>{
        const day = i+4;
        return {
          dateLabel:`Sept ${day}`,
          text:`A poetic note for Sept ${day}`,
          img:`images/sep${day}.jpg`
        };
      })
    };

    function zonedMidnight(dateStr, tz){
      const parts = dateStr.split('-').map(Number);
      const d = new Date(Date.UTC(parts[0], parts[1]-1, parts[2]));
      const as = new Intl.DateTimeFormat('en-GB',{timeZone:tz,year:'numeric',month:'2-digit',day:'2-digit'}).format(d);
      const [dd,mm,yyyy]=as.split('/');
      return new Date(`${yyyy}-${mm}-${dd}T00:00:00`).getTime();
    }
    function nowTZ(tz){
      const fmt = new Intl.DateTimeFormat('en-GB',{timeZone:tz,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit'});
      const parts = fmt.formatToParts(new Date());
      const m = Object.fromEntries(parts.map(p=>[p.type,p.value]));
      return new Date(`${m.year}-${m.month}-${m.day}T${m.hour}:${m.minute}:${m.second}`);
    }

    const tz = CONFIG.timezone;
    const startAt = zonedMidnight(CONFIG.start,tz);
    const endAt = zonedMidnight(CONFIG.end,tz)+(24*60*60*1000)-1;

    const dEl=document.getElementById('dNum'),hEl=document.getElementById('hNum'),mEl=document.getElementById('mNum'),sEl=document.getElementById('sNum');
    const etaEl=document.getElementById('eta');
    const prog=document.getElementById('progress');
    const rangePill=document.getElementById('rangePill');
    rangePill.textContent=`${CONFIG.start} → ${CONFIG.end} • IST`;

    function tick(){
      const now=nowTZ(tz).getTime();
      const target=zonedMidnight(CONFIG.end,tz);
      let diff=target-now; if(diff<0) diff=0;
      const d=Math.floor(diff/86400000);
      const h=Math.floor((diff%86400000)/3600000);
      const m=Math.floor((diff%3600000)/60000);
      const s=Math.floor((diff%60000)/1000);
      dEl.textContent=d; hEl.textContent=h; mEl.textContent=m; sEl.textContent=s;
      const total=zonedMidnight(CONFIG.end,tz)-zonedMidnight(CONFIG.start,tz);
      const covered=Math.min(Math.max(now-startAt,0),total);
      const pct=total>0?(covered/total)*100:0;
      prog.style.width=pct+'%';
      etaEl.textContent=diff>0?`Only ${d} days ${h} hrs left`:`It’s the big day!`;
    }
    tick(); setInterval(tick,1000);

    const todayTZ=nowTZ(tz);
    const todayMid=zonedMidnight(todayTZ.toISOString().slice(0,10),tz);
    const unlockIdx=Math.floor((todayMid-startAt)/86400000);

    const grid=document.getElementById('grid');
    CONFIG.messages.forEach((mem,i)=>{
      const card=document.createElement('div');
      const isUnlocked=i<=unlockIdx;
      card.className=`gcard ${isUnlocked?'unlocked':'locked'}`;
      card.innerHTML=`
        <div style="position:relative">
          <span class="lockBadge">${isUnlocked?'Unlocked':`Unlocks ${mem.dateLabel}`}</span>
          <img src="${mem.img}" alt="${mem.dateLabel}">
        </div>
        <div class="meta">
          <h4>${mem.dateLabel}</h4>
          <p>${isUnlocked?mem.text:'Hidden until '+mem.dateLabel}</p>
        </div>`;
      grid.appendChild(card);
    });

    // Scroll reveal
    const items=document.querySelectorAll('.gcard');
    const io=new IntersectionObserver((entries)=>{
      entries.forEach(e=>{if(e.isIntersecting) e.target.classList.add('reveal');});
    },{threshold:.12});
    items.forEach(i=>io.observe(i));

    // Parallax
    const heroImg=document.getElementById('heroImg');
    window.addEventListener('scroll',()=>{
      const y=window.scrollY;
      heroImg.style.transform=`translateY(${y*0.03}px)`;
    });
  </script>
</body>
</html>
